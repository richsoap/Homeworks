# 背景
英国警方在data.police.uk上开放了从17年2月至今的所有出警记录，所以我试着将其中的部分数据可视化，并从中提取出一些有用的﻿信息。经过考虑之后，我选用伦敦2018年12月到次年2月的数据作为冬季数据集，将2019年6月到同年8月的数据作为夏季数据集，通过绘制热度图的方式比较两个季节在犯罪数量，分布，种类等方面的异同。

# 工具选择
CartoDB可以绘制单个数据集的热度图，但不能较好地比较两个数据集的热度图，因此，考虑之后最终选用pandas+opencv2+matplotlib编写适用于当前状况的热度图绘制工具。该工具可以通过导入csv文件，并依据自定义参数统计在每个方格内的事件数目，考虑到最终打算将结果与地图叠加，所以将结果绘制为一张透明背景的png图像。具体代码参见文章最后提供的项目链接。但由于还没有找到一个优雅地获取地图的方式，所以目前只能单纯地看热度图，而不能自动地与实际地点进行匹配与比较。

# 数据分析
## 单季数据分析
案件热度图如下，并约定，单种数据热度图中蓝色为冬季数据，红色为夏季数据，颜色越深案件越多，越接近白色案件越少。

从图中可以看到，不论是冬季还是夏季，均呈现个别区域案件较多，而其余区域案件较少的情况，估计可能和当地人口密度，人口构成以及社区环境有关。
## 季节数据比较
将上一小节中的数据做差，计算出每一小格内冬夏季案件数目的差值，并将其绘制在热度图中，并约定，红色区域为夏季案件多于冬季事件，蓝色区域为冬季事件多于夏季事件，区域颜色越深表示差距越大。

从图中可以看到，除极个别区域外，大部分区域均接近于白色，说明大部分地区犯罪情况在2019年的冬夏季没有明显差别。此外，图中有区域冬季案件远远多于夏季，初步认为可能与某些突发事件有关，例如游行或恐怖袭击，完善地图叠加功能后可以进行进一步的搜索以验证猜想。
## 依据案件种类的数据对比
在伦敦警方提供的数据中，暴力与性侵犯和反社会行为在所有数据中占据了绝大部分，所以将这两种数据单独拿出来做为对比。
### 暴力与性侵犯
该类型案件的热度分布如图所示。

从图中可以看出，该类型犯罪有明显的“脉络”样的结构，且与伦敦主干道匹配。
再将这两张图进行对比后可得，区域的颜色分布并无明显特征，可以认为在一定程度上，伦敦的暴力与性侵犯案件与季节无明显关联。
### 反社会行为
该类型案件的热度分布如图所示。

从图中可以看到，该类型案件主要聚集在人口密集区，与上一类型案件不同。
再将这两张图对比之后可得，区域明显呈现红色，表示冬季反社会案件会少很多。说明对于罪犯们而言，和粗暴地表达自己的诉求比起来，躲在室内享受暖气可能更有吸引力一些。
# 项目链接
数据，脚本均已放到GitHub上
https://github.com/richsoap/Homeworks/tree/master/citydata/map
